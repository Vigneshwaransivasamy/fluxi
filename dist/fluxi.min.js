!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.fluxi={})}(this,function(t){"use strict";function r(t){var r=[],e=t.length;let n=0;for(;e>n;)r.push(t[n]),n++;return r}function e(t,r){return function(){return r.call(this,t.apply(this,arguments))}}function n(t,r){return function(){return new Promise((e,n)=>(t.apply(this,arguments).then(function(t){e(r.call(this,t))}).catch(n),r))}}function o(){var t;s(arguments[0])?(t=arguments[0],Array.prototype.shift.call(arguments)):t=!0;var r=arguments,o=0,i=arguments.length,c=arguments[0],u=t?e:n;if(1==i)return arguments[0];if(2==i)return u(r[0],r[1]);for(;i-1>o;)c=u(c,r[o+1]),o++;return c}function i(t){for(var r="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-",n=0;t>n;n++)r+=e.charAt(Math.floor(64*Math.random()));return r}function c(t,r){for(var e in t)b(t[e])&&(t[e]=a(t[e],r));return t}function u(t,r){return r.has(t)?r.delete(t):Error("Type Error: subscriber should be of type Function")}function l(t,r){return t.subscribe=function(t){if(f(Function)(t)){var e=d();return r.set(e,t),u.bind(this,e,r)}return Error("Type Error: subscriber should be of type Function")},t}function a(t,r){function e(t){o.forEach(function(r){r(t)})}var n=!r,o=r||new Map,i={get:function(t,r){return t[r]},set:function(t,r,n){var i=null,c=null,u={};if(t[r]){if(i="UPDATE",(c=t[r])==n)return;t[r]=n}else i="NEW",t[r]=y(n)?n:a(n,o);return u=t[r],"update"==i&&(u.oldValue=c),e(u),t[r]}};return t=new Proxy(c(t,o),i),n?l(t,o):t}const f=t=>r=>Object(r)instanceof t,s=t=>f(Boolean)(t);var p=Object.prototype.toString;const b=t=>"[object Object]"===p.call(t),y=t=>f(String)(t);var d=()=>i(32);var h=Object.prototype.toString;var j=Object.prototype.toString;var g=Object.prototype.toString;var v=Object.prototype.toString;var m=Object.prototype.toString;var N=Object.prototype.toString;t.curry=function(t){return function(){return t.length==arguments.length?t(...arguments):t.bind(null,...arguments)}},t.debug=function(...t){var e=r(t);e.splice(0,0,window.performance?" : "+(window.performance.now()/1e3).toFixed(3)+": ":" : "+Date()+" : "),console.log(...e)},t.filler=function(){return"__EMPTY__"},t.pipe2=e,t.pipeN=o,t.syncPipe2=n,t.syncPipeN=function(){return Array.prototype.unshift.call(arguments,!1),o.apply(this,arguments)},t.proxr=a,t.is=f,t.isArray=(t=>f(Array)(t)),t.isBoolean=s,t.isDate=(t=>"[object Date]"===h.call(t)),t.isFunction=(t=>f(Function)(t)),t.isNaN=(t=>"[object NaN]"===j.call(t)),t.isNull=(t=>"[object Null]"===g.call(t)),t.isNumber=(t=>f(Number)(t)),t.isObject=b,t.isPromise=(t=>"[object Promise]"===v.call(t)),t.isRegex=(t=>f(RegExp)(t)),t.isString=y,t.isSymbol=(t=>"[object Symbol]"===m.call(t)),t.isUndefined=(t=>"[object Undefined]"===N.call(t)),Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmx1eGkubWluLmpzIiwic291cmNlcyI6WyIuLi9zb3VyY2UvZGVidWcuanMiLCIuLi9zb3VyY2UvcGlwZTIuanMiLCIuLi9zb3VyY2Uvc3luY1BpcGUyLmpzIiwiLi4vc291cmNlL3BpcGVOLmpzIiwiLi4vc291cmNlL3JhbmRvbVRva2VuLmpzIiwiLi4vc291cmNlL3Byb3hyLmpzIiwiLi4vc291cmNlL2lzLmpzIiwiLi4vc291cmNlL2lzQm9vbGVhbi5qcyIsIi4uL3NvdXJjZS9pc09iamVjdC5qcyIsIi4uL3NvdXJjZS9pc1N0cmluZy5qcyIsIi4uL3NvdXJjZS9pc0RhdGUuanMiLCIuLi9zb3VyY2UvaXNOYU4uanMiLCIuLi9zb3VyY2UvaXNOdWxsLmpzIiwiLi4vc291cmNlL2lzUHJvbWlzZS5qcyIsIi4uL3NvdXJjZS9pc1N5bWJvbC5qcyIsIi4uL3NvdXJjZS9pc1VuZGVmaW5lZC5qcyIsIi4uL3NvdXJjZS9jdXJyeS5qcyIsIi4uL3NvdXJjZS9maWxsZXIuanMiLCIuLi9zb3VyY2Uvc3luY1BpcGVOLmpzIiwiLi4vc291cmNlL2lzQXJyYXkuanMiLCIuLi9zb3VyY2UvaXNGdW5jdGlvbi5qcyIsIi4uL3NvdXJjZS9pc051bWJlci5qcyIsIi4uL3NvdXJjZS9pc1JlZ2V4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGJ1aWxkTG9ncyhyZXN0KXtcbiAgdmFyIGxvZyA9IFtdO1xuICB2YXIgcmVzdExlbmd0aCA9IHJlc3QubGVuZ3RoXG4gIGxldCBpID0gMDtcbiAgZm9yICggO2kgPCByZXN0TGVuZ3RoOykge1xuICAgIGxvZy5wdXNoKCByZXN0W2ldICk7XG4gICAgaSsrO1xuICB9XG4gIHJldHVybiBsb2c7XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWJ1ZyguLi5yZXN0KSB7XG4gIHZhciBsb2dzID0gYnVpbGRMb2dzKHJlc3QpO1xuICBsb2dzLnNwbGljZShcbiAgICAwLDAsXG4gICAgd2luZG93LnBlcmZvcm1hbmNlID8gJyA6ICcgKyAod2luZG93LnBlcmZvcm1hbmNlLm5vdygpIC8gMTAwMCkudG9GaXhlZCgzKSArICc6ICcgXG4gICAgOiAnIDogJyArIERhdGUoKSArICcgOiAnXG4gICk7XG4gIGNvbnNvbGUubG9nKC4uLmxvZ3MpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBpcGUyKGZuMSwgZm4yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZuMi5jYWxsKHRoaXMsIGZuMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn0iLCIvKipcbiAqIFxuICogVXNhZ2U6IFN5bmNocm9ub3VzIHBpcGUgd2lsbCB3b3JrcyBleGFjbHkgYXMgeW91IHRoaW5rXG4gKiAgICAgICAgICB0aGF0IHRoaXMgd2lsbCB3YWl0IGZvciBlYWNoIGFjdGlvbiB0byBnZXQgY29tcGxldGVkXG4gKiBcbiAqIHZhciBqb2luQWN0aW9ucyA9IHN5bmNQaXBlMih0aW1lcjEsdGltZXIyLHRpbWVyMyk7XG4gKiBcbiAqIGpvaW5BY3Rpb25zKCkgLy8gICAgIC0+IHlvdSBjYW4gZWl0aGVyIGp1c3QgaW5pdGF0ZSB0aGUgYWN0aW9uXG4gKiBcbiAqIGpvaW5BY3Rpb25zKCkudGhlbiggIC8vIC0+IEFkZCBhIGxpc3RlbmVyIHRvIGdldCB0aGUgY29tcGxldGVkIHN0YXR1c1xuICogICAgICBmdW5jdGlvbigpe1xuICogICAgICBjb25zb2xlLmxvZyhcIkNvbXBsZXRlZCFcIilcbiAqIH0pO1xuICogXG4gKiBAcGFyYW0geypGdW5jdGlvbn0gZm4xIFxuICogQHBhcmFtIHsqRnVuY3Rpb259IGZuMiBcbiAqIFxuICogQHJldHVybiBQcm9taXNlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3luY1BpcGUyKGZuMSwgZm4yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGZuMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmbjIuY2FsbCh0aGlzLCBkYXRhKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKS5jYXRjaChyZWplY3QpO1xuICAgICAgICAgICAgcmV0dXJuIGZuMjtcbiAgICAgICAgfSk7XG4gICAgfTtcbn0iLCIvKipcbiAqIFxuICogVXNhZ2U6IEFzeWNocm9ub3VzIHBpcGUgd2hpY2gganVzdCBiaWxkcyBtdWx0aXBsZVxuICogICAgICAgICAgRnVuY3Rpb25zIHRvIG9uZSBhbmQgd2FpdCBmb3IgY29tbWFuZFxuICogXG4gKiB2YXIgam9pbkFjdGlvbnMgPSBwaXBlTihhZGRPbmUsIGFkZFR3bywgYWRkVGhyZWUpO1xuICogam9pbkFjdGlvbnMoKTtcbiAqIFxuICogQHBhcmFtIHsqRnVuY3Rpb259IGZuMSBcbiAqIEBwYXJhbSB7KkZ1bmN0aW9ufSBmbjIgXG4gKiBcbiAqIEByZXR1cm4gUHJvbWlzZVxuICovXG5cblxuaW1wb3J0IHBpcGUyIGZyb20gJy4vcGlwZTInO1xuaW1wb3J0IGlzQm9vbGVhbiBmcm9tICcuL2lzQm9vbGVhbic7XG5pbXBvcnQgc3luY1BpcGUyIGZyb20gJy4vc3luY1BpcGUyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGlwZU4oKSB7XG4gICAgdmFyIGlzQXN5bmM7XG4gICAgaWYgKGlzQm9vbGVhbihhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgIGlzQXN5bmMgPSBhcmd1bWVudHNbMF07XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zaGlmdC5jYWxsKGFyZ3VtZW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaXNBc3luYyA9IHRydWU7XG4gICAgfVxuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgbGFzdFJlc3VsdCA9IGFyZ3VtZW50c1swXTtcbiAgICB2YXIgX3BpcGUyID0gaXNBc3luYyA/IHBpcGUyIDogc3luY1BpcGUyO1xuICAgIGlmIChsZW5ndGggPT0gMSlcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICBpZiAobGVuZ3RoID09IDIpXG4gICAgICAgIHJldHVybiAoX3BpcGUyKGFyZ3NbMF0sIGFyZ3NbMV0pKTtcbiAgICBmb3IgKDsgaSA8IGxlbmd0aCAtIDE7KSB7XG4gICAgICAgIGxhc3RSZXN1bHQgPSBfcGlwZTIobGFzdFJlc3VsdCwgYXJnc1tpICsgMV0pO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFuZG9tVG9rZW4obGVuZ3RoKSB7XG4gICAgdmFyIGhhc2ggPSAnJztcbiAgICB2YXIgbGFuZ3VhZ2UgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlfLSc7XG5cbiAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBsZW5ndGg7IG9mZnNldCsrKVxuICAgICAgICBoYXNoICs9IGxhbmd1YWdlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsYW5ndWFnZS5sZW5ndGgpKTtcblxuICAgIHJldHVybiBoYXNoO1xufSIsImltcG9ydCBpcyBmcm9tICcuL2lzJztcbmltcG9ydCByYW5kb21Ub2tlbiBmcm9tICcuL3JhbmRvbVRva2VuJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0JztcbmltcG9ydCBpc1N0cmluZyBmcm9tICcuL2lzU3RyaW5nJztcblxudmFyIGhhc2gzMiA9ICgpID0+IHJhbmRvbVRva2VuKDMyKTtcblxuZnVuY3Rpb24gX3Byb3h5T2JqZWN0UHJvcGVydHkoZGF0YSwgc3Vic2NyaWJlcnMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICBpZihpc09iamVjdChkYXRhW2tleV0pKSB7XG4gICAgICAgICAgICBkYXRhW2tleV0gPSBwcm94cihkYXRhW2tleV0sIHN1YnNjcmliZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gdW5zdWJzY3JpYmUoaWQsIHN1YnNjcmliZXJzKSB7XG4gICAgaWYgKHN1YnNjcmliZXJzLmhhcyhpZCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXJzLmRlbGV0ZShpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignVHlwZSBFcnJvcjogc3Vic2NyaWJlciBzaG91bGQgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19wdWJzdWJfXyhkYXRhLCBzdWJzY3JpYmVycykge1xuICAgIGRhdGEuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIGlmIChpcyhGdW5jdGlvbikoZm4pKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBoYXNoMzIoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXJzLnNldChpZCwgZm4pO1xuICAgICAgICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlLmJpbmQodGhpcywgaWQsIHN1YnNjcmliZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1R5cGUgRXJyb3I6IHN1YnNjcmliZXIgc2hvdWxkIGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByb3hyKGRhdGEsIF9zdWJzY3JpYmVycykge1xuICAgIHZhciBpc1Jvb3QgPSAhX3N1YnNjcmliZXJzO1xuICAgIHZhciBzdWJzY3JpYmVycyA9IF9zdWJzY3JpYmVycyA/IF9zdWJzY3JpYmVycyA6IG5ldyBNYXAoKTtcbiAgICB2YXIgX2hhbmRsZXIgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCwga2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IG51bGwsIG9sZFZhbHVlID0gbnVsbCwgYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICAgICAgaWYgKCF0YXJnZXRba2V5XSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbiA9ICdORVcnO1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gaXNTdHJpbmcodmFsdWUpID8gdmFsdWUgOiBwcm94cih2YWx1ZSwgc3Vic2NyaWJlcnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSAnVVBEQVRFJztcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgICAgICAgICAgICAgIGlmIChvbGRWYWx1ZSA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSB2YWx1ZSBhcmUgc2FtZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFjdGlvbkRhdGEgPSB7XG4gICAgICAgICAgICAvLyAgICAgJ2FjdGlvbic6IGFjdGlvbixcbiAgICAgICAgICAgIC8vICAgICAnYWN0aW9uUm9vdCc6IHRhcmdldCxcbiAgICAgICAgICAgIC8vICAgICAna2V5Jzoga2V5LFxuICAgICAgICAgICAgLy8gICAgICd2YWx1ZSc6IHZhbHVlXG4gICAgICAgICAgICAvLyB9O1xuXG4gICAgICAgICAgICBhY3Rpb25EYXRhID0gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSAndXBkYXRlJykge1xuICAgICAgICAgICAgICAgIGFjdGlvbkRhdGEub2xkVmFsdWUgPSBvbGRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vdGlmeShhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBub3RpZnkoZGF0YSkge1xuICAgICAgICBzdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgZm4oZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRhdGEgPSBuZXcgUHJveHkoX3Byb3h5T2JqZWN0UHJvcGVydHkoZGF0YSwgc3Vic2NyaWJlcnMpLCBfaGFuZGxlcik7XG5cbiAgICByZXR1cm4gaXNSb290ID8gX19wdWJzdWJfXyhkYXRhLCBzdWJzY3JpYmVycykgOiBkYXRhO1xufVxuXG5cbi8qKlxuICogXG4gKiBIb3cgdG8gdXNlPyBcbiAqIFxuICogXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogT2JqZWN0IG90IGludHJlc3RcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiB2YXIgeCA9IHtcbiAqICB1c2VyTmFtZTogXCJ2aWduZXNoXCIsIFxuICogIHBhc3N3b3JkOiBcInRlc3RpbmdcIiwgXG4gKiAgYWRkcmVzczoge1xuICogICAgdGVzdDp7XG4gKiAgICAgIHRlc3Q6e1xuICogICAgICAgIHRlc3Q6XCJ0ZXN0XCJcbiAqICAgICAgfVxuICogICAgfVxuICogIH1cbiAqIH1cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFxuICogXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQcm94aW5nIG9iamVjdCBvZiBpbnRyZXN0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiB4ID0gZ2xvYmFsLnByb3hyKHgpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gKiBAcmV0dXJuIFN0cmluZ3toYXNoSWR9IFxuICogQGFjdGlvbiBJdCByZXR1cm5zIHRoZSBoYXNoSWQgb2YgdGhlIFxuICogc3Vic2NyaXB0aW9uIHdoaWNoIGlzIHVzZWQgdG8gdW5zdWJzY3JpYmVcbiAqIFxuICogdmFyIHVuc3Vic2NyaWJlID0geC5zdWJzY3JpYmUoZnVuY3Rpb24oZGF0YSl7XG4gKiAgY29uc29sZS5sb2coZGF0YSlcbiAqIH0pO1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAbWV0aG9kIHVuc3Vic2NyaWJlXG4gKiBAcmV0dXJuIEJvb2xlYW57aXNVbnN1YmFzY3JpYmVkfSAgXG4gKiBAYWN0aW9uIFJlbW92ZXMgdGhlIGhhbmRsZXIgZnJvbSB0aGUgXG4gKiBzdWJzY3JpYmVycyBtYXAuXG4gKiBcbiAqIHVuc3Vic2NyaWJlKCk7XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBcbiAqLyIsIi8qKlxuICogTGVnYWN5IG1ldGhvZHMgYW5kIHByaXZhdGUgbWV0aG9kcyBhcmUgcHJlZml4ZWQgd2l0aCBfKHVuZGVyc2NvcmUpLlxuICovXG5cbmNvbnN0IGlzID0gdHlwZSA9PiB0YXJnZXQgPT4gT2JqZWN0KHRhcmdldCkgaW5zdGFuY2VvZiB0eXBlO1xuXG5leHBvcnQgZGVmYXVsdCBpcztcbiIsImltcG9ydCBpcyBmcm9tICcuL2lzLmpzJztcblxuY29uc3QgaXNCb29sZWFuID0gdGFyZ2V0ID0+IGlzKEJvb2xlYW4pKHRhcmdldCk7XG5cbmV4cG9ydCBkZWZhdWx0IGlzQm9vbGVhbjsiLCJ2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgaXNPYmplY3QgPSB0YXJnZXQgPT4gdG9TdHJpbmcuY2FsbCh0YXJnZXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbmV4cG9ydCBkZWZhdWx0IGlzT2JqZWN0OyIsImltcG9ydCBpcyBmcm9tICcuL2lzLmpzJztcbmNvbnN0IGlzU3RyaW5nID0gdGFyZ2V0ID0+IGlzKFN0cmluZykodGFyZ2V0KTtcblxuZXhwb3J0IGRlZmF1bHQgaXNTdHJpbmc7IiwidmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuY29uc3QgaXNEYXRlID0gdGFyZ2V0ID0+IHRvU3RyaW5nLmNhbGwodGFyZ2V0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuXG5leHBvcnQgZGVmYXVsdCBpc0RhdGU7IiwidmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuY29uc3QgaXNOYU4gPSB0YXJnZXQgPT4gdG9TdHJpbmcuY2FsbCh0YXJnZXQpID09PSAnW29iamVjdCBOYU5dJztcblxuZXhwb3J0IGRlZmF1bHQgaXNOYU47IiwidmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuY29uc3QgaXNOdWxsID0gdGFyZ2V0ID0+IHRvU3RyaW5nLmNhbGwodGFyZ2V0KSA9PT0gJ1tvYmplY3QgTnVsbF0nO1xuXG5leHBvcnQgZGVmYXVsdCBpc051bGw7IiwidmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuY29uc3QgaXNQcm9taXNlID0gdGFyZ2V0ID0+IHRvU3RyaW5nLmNhbGwodGFyZ2V0KSA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nO1xuXG5leHBvcnQgZGVmYXVsdCBpc1Byb21pc2U7IiwidmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuY29uc3QgaXNTeW1ib2wgPSB0YXJnZXQgPT4gdG9TdHJpbmcuY2FsbCh0YXJnZXQpID09PSAnW29iamVjdCBTeW1ib2xdJztcblxuZXhwb3J0IGRlZmF1bHQgaXNTeW1ib2w7IiwiXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5jb25zdCBpc1VuZGVmaW5lZCA9IHRhcmdldCA9PiB0b1N0cmluZy5jYWxsKHRhcmdldCkgPT09ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG5leHBvcnQgZGVmYXVsdCBpc1VuZGVmaW5lZDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjdXJyeU4oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZm4ubGVuZ3RoID09IGFyZ3VtZW50cy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZm4oLi4uYXJndW1lbnRzKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGZuLmJpbmQobnVsbCwgLi4uYXJndW1lbnRzKTtcbiAgICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpbGxlcigpe1xuICAgIHJldHVybiAnX19FTVBUWV9fJztcbn0iLCJpbXBvcnQgcGlwZU4gZnJvbSAnLi9waXBlTic7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW5jUGlwZU4oKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIGZhbHNlKTtcbiAgICByZXR1cm4gcGlwZU4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn0iLCJpbXBvcnQgaXMgZnJvbSAnLi9pcy5qcyc7XG5cbmNvbnN0IGlzQXJyYXkgPSB0YXJnZXQgPT4gaXMoQXJyYXkpKHRhcmdldCk7XG5cbmV4cG9ydCBkZWZhdWx0IGlzQXJyYXk7IiwiaW1wb3J0IGlzIGZyb20gJy4vaXMuanMnO1xuXG5jb25zdCBpc0Z1bmN0aW9uID0gdGFyZ2V0ID0+IGlzKEZ1bmN0aW9uKSh0YXJnZXQpO1xuXG5leHBvcnQgZGVmYXVsdCBpc0Z1bmN0aW9uOyIsImltcG9ydCBpcyBmcm9tICcuL2lzLmpzJztcblxuY29uc3QgaXNOdW1iZXIgPSB0YXJnZXQgPT4gaXMoTnVtYmVyKSh0YXJnZXQpO1xuXG5leHBvcnQgZGVmYXVsdCBpc051bWJlcjsiLCJpbXBvcnQgaXMgZnJvbSAnLi9pcy5qcyc7XG5jb25zdCBpc1JlZ2V4ID0gdGFyZ2V0ID0+IGlzKFJlZ0V4cCkodGFyZ2V0KTtcblxuZXhwb3J0IGRlZmF1bHQgaXNSZWdleDsiXSwibmFtZXMiOlsiYnVpbGRMb2dzIiwicmVzdCIsImxvZyIsInJlc3RMZW5ndGgiLCJsZW5ndGgiLCJpIiwicHVzaCIsInBpcGUyIiwiZm4xIiwiZm4yIiwiY2FsbCIsInRoaXMiLCJhcHBseSIsImFyZ3VtZW50cyIsInN5bmNQaXBlMiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidGhlbiIsImRhdGEiLCJjYXRjaCIsInBpcGVOIiwiaXNBc3luYyIsImlzQm9vbGVhbiIsInByb3RvdHlwZSIsInNoaWZ0IiwiYXJncyIsImxhc3RSZXN1bHQiLCJfcGlwZTIiLCJyYW5kb21Ub2tlbiIsImhhc2giLCJsYW5ndWFnZSIsIm9mZnNldCIsImNoYXJBdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIl9wcm94eU9iamVjdFByb3BlcnR5Iiwic3Vic2NyaWJlcnMiLCJrZXkiLCJpc09iamVjdCIsInByb3hyIiwidW5zdWJzY3JpYmUiLCJpZCIsImhhcyIsImRlbGV0ZSIsIkVycm9yIiwiX19wdWJzdWJfXyIsInN1YnNjcmliZSIsImZuIiwiaXMiLCJGdW5jdGlvbiIsImhhc2gzMiIsInNldCIsImJpbmQiLCJfc3Vic2NyaWJlcnMiLCJub3RpZnkiLCJmb3JFYWNoIiwiaXNSb290IiwiTWFwIiwiX2hhbmRsZXIiLCJ0YXJnZXQiLCJ2YWx1ZSIsImFjdGlvbiIsIm9sZFZhbHVlIiwiYWN0aW9uRGF0YSIsImlzU3RyaW5nIiwiUHJveHkiLCJ0eXBlIiwiT2JqZWN0IiwiQm9vbGVhbiIsInRvU3RyaW5nIiwiU3RyaW5nIiwibG9ncyIsInNwbGljZSIsIndpbmRvdyIsInBlcmZvcm1hbmNlIiwibm93IiwidG9GaXhlZCIsIkRhdGUiLCJ1bnNoaWZ0IiwiQXJyYXkiLCJOdW1iZXIiLCJSZWdFeHAiXSwibWFwcGluZ3MiOiJ3TEFBQSxTQUFTQSxFQUFVQyxPQUNiQyxLQUNBQyxFQUFhRixFQUFLRyxXQUNsQkMsRUFBSSxPQUNHRixFQUFKRSxLQUNEQyxLQUFNTCxFQUFLSSxlQUdWSCxXQ1JlSyxFQUFNQyxFQUFLQyxVQUMxQixrQkFDRUEsRUFBSUMsS0FBS0MsS0FBTUgsRUFBSUksTUFBTUQsS0FBTUUsYUNrQjFDLFNBQXdCQyxFQUFVTixFQUFLQyxVQUM1QixrQkFDSSxJQUFJTSxRQUFRLENBQUNDLEVBQVNDLE9BQ3JCTCxNQUFNRCxLQUFNRSxXQUFXSyxLQUN2QixTQUFVQyxLQUNFVixFQUFJQyxLQUFLQyxLQUFNUSxNQUU3QkMsTUFBTUgsR0FDRFIsS0NibkIsU0FJd0JZLFFBQ2hCQyxFQUNBQyxFQUFVVixVQUFVLE9BQ1ZBLFVBQVUsU0FDZFcsVUFBVUMsTUFBTWYsS0FBS0csZUFFakIsTUFFVmEsRUFBT2IsVUFDUFIsRUFBSSxFQUNKRCxFQUFTUyxVQUFVVCxPQUNuQnVCLEVBQWFkLFVBQVUsR0FDdkJlLEVBQVNOLEVBQVVmLEVBQVFPLEtBQ2pCLEdBQVZWLEVBQ0EsT0FBT1MsVUFBVSxNQUNQLEdBQVZULEVBQ0EsT0FBUXdCLEVBQU9GLEVBQUssR0FBSUEsRUFBSyxTQUN0QnRCLEVBQVMsRUFBYkMsS0FDVXVCLEVBQU9ELEVBQVlELEVBQUtyQixFQUFJLGVBSXRDc0IsV0N6Q2FFLEVBQVl6QixPQUkzQixJQUhEMEIsRUFBTyxHQUNQQyxFQUFXLG1FQUVOQyxFQUFTLEVBQVk1QixFQUFUNEIsRUFBaUJBLElBQ2xDRixHQUFRQyxFQUFTRSxPQUFPQyxLQUFLQyxNQUFz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
